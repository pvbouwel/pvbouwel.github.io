<!doctype html><html lang=en><head><title>Blog @ Hugo · Allinthemiddle</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="pvbouwel"><meta name=description content="The move of this blog to Hugo"><meta name=keywords content="blog,devops,personal"><meta name=twitter:card content="summary"><meta name=twitter:title content="Blog @ Hugo"><meta name=twitter:description content="The move of this blog to Hugo"><meta property="og:url" content="http://pvbouwel.github.io/posts/hugo-start/"><meta property="og:site_name" content="Allinthemiddle"><meta property="og:title" content="Blog @ Hugo"><meta property="og:description" content="The move of this blog to Hugo"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-08-01T12:47:22+02:00"><meta property="article:modified_time" content="2025-08-01T12:47:22+02:00"><meta property="article:tag" content="Blog"><meta property="article:tag" content="Hugo"><meta property="article:tag" content="Blogger"><meta property="article:tag" content="Github"><meta property="article:tag" content="Deployment"><link rel=canonical href=http://pvbouwel.github.io/posts/hugo-start/><link rel=preload href=/fonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.6445a802b9389c9660e1b07b724dcf5718b1065ed2d71b4eeaf981cc7cc5fc46.css integrity="sha256-ZEWoArk4nJZg4bB7ck3PVxixBl7S1xtO6vmBzHzF/EY=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/img/favicon.svg sizes=any><link rel=icon type=image/png href=/img/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/img/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5></head><body class="preload-transitions colorscheme-auto"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=http://pvbouwel.github.io/>Allinthemiddle
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa-solid fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=http://pvbouwel.github.io/posts/hugo-start/>Blog @ Hugo</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa-solid fa-calendar" aria-hidden=true></i>
<time datetime=2025-08-01T12:47:22+02:00>August 1, 2025
</time></span><span class=reading-time><i class="fa-solid fa-clock" aria-hidden=true></i>
13-minute read</span></div><div class=tags><i class="fa-solid fa-tag" aria-hidden=true></i>
<span class=tag><a href=/tags/blog/>Blog</a>
</span><span class=separator>•</span>
<span class=tag><a href=/tags/hugo/>Hugo</a>
</span><span class=separator>•</span>
<span class=tag><a href=/tags/blogger/>Blogger</a>
</span><span class=separator>•</span>
<span class=tag><a href=/tags/github/>Github</a>
</span><span class=separator>•</span>
<span class=tag><a href=/tags/deployment/>Deployment</a></span></div></div></header><div class=post-content><p>Just a post on why I moved from blogger.com to a Hugo blog on Github pages and how you can setup your own blog in the same way.</p><h1 id=why>Why
<a class=heading-link href=#why><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h1><p>blogger.com has served me well over time and it was a good choice at the time but after more than 15 years it is time for a change. Moving habits is generally not easy but they can bring benefits for this move I hope to get:</p><ul><li>Easier post writing</li><li>Being less platform dependent</li><li>Easier publishing</li></ul><h2 id=easier-post-writing>Easier post writing
<a class=heading-link href=#easier-post-writing><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>The new setup uses <a href=https://gohugo.io/ class=external-link target=_blank rel=noopener>Hugo</a> which is a framework for building websites. It allows to create your posts in <a href=https://en.wikipedia.org/wiki/Markdown class=external-link target=_blank rel=noopener>markdown</a> and have it rendered into a static website. Markdown has support for creating lists (numbered or just ordered), code excerpts, images, sections so it provides the building blocks I need. Because markdown is heavily used for technical documentation I have grown quite familiar with it and find it much easier to write into it compared to using Bloggers <a href=https://en.wikipedia.org/wiki/WYSIWYG class=external-link target=_blank rel=noopener>WYSIWYG</a> editor or plain <a href=https://en.wikipedia.org/wiki/HTML class=external-link target=_blank rel=noopener>HTML</a>.</p><p>I do not like to spend a lot of time in formatting and thanks to <a href=https://gohugo.io/ class=external-link target=_blank rel=noopener>Hugo</a> I don&rsquo;t need to. I just use the <a href=https://github.com/luizdepra/hugo-coder/ class=external-link target=_blank rel=noopener>Coder</a> theme and I get a simple and clean layout.</p><p>In order to put this to the test I have migrated my posts of some of the recent years which did not take much effort.</p><h2 id=being-less-platform-dependent>Being less platform dependent
<a class=heading-link href=#being-less-platform-dependent><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>Currently I am publishing this blog to <a href=https://pages.github.com/ class=external-link target=_blank rel=noopener>Github pages</a> since it is a stable and free platform for public content. Eventhough this is a specific platform my static content could be put anywhere with static hosting. For example any Object store that has an S3 compatible API could be used instead. This means I could setup a clone of my blog with minimal effort and be confident that I am not breaking my markup because the new provider works differently.</p><p>The source of my blog is no longer just hosted on the provider but rather in a <a href=https://en.wikipedia.org/wiki/Git class=external-link target=_blank rel=noopener>Git</a> repository. Because Git is a distributed Version control system I do have my local copy and can use that as a backup of my blogs content.</p><p>Because the static content is rendered I can also render it locally and iterate even when I am on the move and connectivity isn&rsquo;t great or available at all.</p><h2 id=easier-publishing>Easier publishing
<a class=heading-link href=#easier-publishing><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>While it is not difficult to post something using Blogger my new setup allows me to publish by just doing a <code>git push</code>. A Github worklfow will then render the blog and publish it. Offcourse this does means I had to put some config in place which is platform specific but given that this is low investment it is still worth it.</p><h1 id=how>How
<a class=heading-link href=#how><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h1><p>If you want to have your own Hugo blog (or website) then you can checkout this section where I explain how I created my site on Github pages. <a href=https://gohugo.io/ class=external-link target=_blank rel=noopener>Hugo</a> has their own <a href=https://gohugo.io/host-and-deploy/host-on-github-pages/ class=external-link target=_blank rel=noopener>doc</a> on this but I prefer to have a setup with 2 repositories:</p><ol><li>A private repository where I have the source code for my website</li><li>A public repository used for my Github pages</li></ol><p>Github pages repositories have to be public repositories unless you have Github Enterprise. I prefer to keep a private repository such that my drafts remain truly unpublished.</p><p>This is realised by:</p><ol><li>Creating the repositories</li><li>Create a PAT (Personal Access Token)</li><li>Configure secrets for your private repository</li><li>Create a placeholder for your public repository</li><li>Add your hugo code to your private repository</li><li>Add a Github workflow to your private repostiory</li></ol><h2 id=1-creating-the-repositories>1: Creating the repositories
<a class=heading-link href=#1-creating-the-repositories><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p><strong>pre-requisite</strong>: You should be logged in to Github. (if you are new to Github check their <a href=https://docs.github.com/en/get-started class=external-link target=_blank rel=noopener>getting started docs</a>)</p><p>We assume you will create the website under your personal account for organisations it is similar but everywhere we say <code>&lt;your_github_account></code> you should use the organisation instead. You can then host a website via Github pages under <code>&lt;your_github_account>.github.io</code>. For this you need a public repository which has the same name.</p><p>Then if you go to <a href=https://github.com/new class=external-link target=_blank rel=noopener>https://github.com/new</a> then you can create a new repository. By default the owner is your personal account. You can chose your repository name and you must set the visibility which is by default public. For example you can use:</p><ul><li>&lt;your_github_account>/my-blog-source (Visibility: Private!)</li><li>&lt;your_github_account>/&lt;your_github_account>.github.io (Visibility: Public)</li></ul><h2 id=2-create-a-pat-personal-access-token>2: Create a PAT (Personal Access Token)
<a class=heading-link href=#2-create-a-pat-personal-access-token><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>In step 6 we want to be able to have Github take actions on our behalf. For that we need to have a personal access token that we pass to the configuration such that the workflow can authenticate and its actions can be authorized.</p><p>For this you need to go to Settings -> Developer Settings -> Personal access tokens -> Fine-graned tokens which at time of writing is available at <a href=https://github.com/settings/personal-access-tokens class=external-link target=_blank rel=noopener>https://github.com/settings/personal-access-tokens</a>. Here you can click <code>Generate new token</code>. You will be asked to login again or to confirm using your 2FA config as this action is considered sensitive (you are creating access credentials after all). Then on the next screen you must provide (you can likely come up with better values, try to be descriptive):</p><ul><li>Token name: my-hugo-blog-updater-pat</li><li>description: A PAT which is used in Github actions to update my hugo site</li><li>Resource owner: &lt;your_github_account></li><li>Expiration: you can chose this but everytime the token expires you need to redo this step and step 3</li><li>Repository access: &ldquo;Only select repositories&rdquo;</li><li>After selecting <code>Repository access</code> a selection box appears there you pick <code>&lt;your_github_account>/&lt;your_github_account>.github.io</code></li><li>Permissions: Click <code>Add Permissions</code> -> select checkbox of <code>Contents</code><ul><li>For the Contents row that appears change <code>Access: Read-Only</code> to <code>Access: Read and write</code></li></ul></li></ul><p>Now when you click <code>Generate token</code> you get a pop-up with a summary about your to-be-created Personal Access Token. Confirm using the <code>Generate token</code> button. You arrive again on the Fine-graned personal access tokens page but this time it will show your new token. Make sure to keep it somewhere so you can use it in the next step. It will look like <code>github_pat_&lt;long_string__which_is_nonsense_for_humans></code></p><h2 id=3-configure-secrets-for-your-private-repository>3: Configure secrets for your private repository
<a class=heading-link href=#3-configure-secrets-for-your-private-repository><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>Note: It is possible and easier to put the information we pass via secrets straight in the workflow. We prefer to not do this as it is a better security practice. If for some reason your repo ends up public due to a misconfig your secrets are not exposed. Also it allows for re-usability of the workflow (Github action)</p><p>Go to the settings of your private repository and go to <code>Secrets and variables</code> -> <code>Action</code>: (e.g. <code>https://github.com/&lt;your_github_account>/my-blog-source/settings/secrets/actions</code>). Here you can specify secrets that can be used in your workflow config. Add the following:</p><ul><li>WEBSITE_ACTOR: <code>&lt;your_github_account></code></li><li>WEBSITE_DIR: <code>public</code></li><li>WEBSITE_GIT_USER_EMAIL: The email you want to sign the automatic commits with. Real e-mails can get more spam if you advertise them. <a href=https://docs.github.com/en/account-and-profile/setting-up-and-managing-your-personal-account-on-github/managing-email-preferences/setting-your-commit-email-address class=external-link target=_blank rel=noopener>Github can provide a noreply address as per their docs</a>.</li><li>WEBSITE_GIT_USER_NAME: The name you want to sign the automatic commits with.</li><li>WEBSITE_RELEASE_BRANCH: <code>main</code></li><li>WEBSITE_REPOSITORY: <code>&lt;your_github_account>/&lt;your_github_account>.github.io</code></li><li>WEBSITE_TOKEN: <code>github_pat_&lt;long_string__which_is_nonsense_for_humans></code> (From step 2)</li></ul><h2 id=4-create-a-placeholder-for-your-public-repository>4: Create a placeholder for your public repository
<a class=heading-link href=#4-create-a-placeholder-for-your-public-repository><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>To keep our workflow simple we expect the public repository to already have a branch where we want to push to. The name of the branch was set in the <code>WEBSITE_RELEASE_BRANCH</code> secret (we used <code>main</code> above). If you browse to your public repository <a href=https://github.com/%3cyour_github_account%3e/%3cyour_github_account%3e.github.io class=external-link target=_blank rel=noopener>https://github.com/&lt;your_github_account>/&lt;your_github_account>.github.io</a> you should get instruction on how to add content or even a button to add a <code>README</code>. What content you add does not really matter as long as it is not a secret you can add something just to make sure there is an initial <code>main</code> branch.</p><h2 id=5-add-your-hugo-code-to-your-private-repository>5: Add your hugo code to your private repository
<a class=heading-link href=#5-add-your-hugo-code-to-your-private-repository><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p><strong>pre-requisite</strong>: You should have hugo available and on your <code>PATH</code>. Hugo has <a href=https://gohugo.io/installation/ class=external-link target=_blank rel=noopener>extensive installation documentation</a> so please check there.</p><p>Now we still need to create the content of our private repository which is our source code of our Hugo website. This can be done in a few steps:</p><ul><li><p>On your local system go to where you want to keep your local copy of the git repo hosting the private repository.</p></li><li><p>Create the site using the Hugo CLI: <code>hugo new site my-blog-source</code>. This will create the directory my-blog-source with contents that you can use for your private repository.</p></li><li><p>Go into the new directory <code>cd my-blog-source</code></p></li><li><p>Initialize git <code>git init</code></p></li><li><p>Make sure to be on the <code>main</code> branch: <code>git checkout -b "main"</code></p></li><li><p>Add a theme. (For example if you want to use coder: <code>git submodule add https://github.com/luizdepra/hugo-coder.git themes/hugo-coder</code>) (You can checkout themes at <a href=https://themes.gohugo.io/ class=external-link target=_blank rel=noopener>https://themes.gohugo.io/</a>)</p></li><li><p>Each them can have custom config which should be in hugo.toml so check the theme documentation. For coder a minimal config is available <a href=https://github.com/luizdepra/hugo-coder/blob/main/docs/configurations.md#complete-example class=external-link target=_blank rel=noopener>here</a> but it can be further minimized to:</p><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>  baseurl = <span style=color:#a5d6ff>&#34;https://&lt;your_github_account&gt;.github.io&#34;</span>
</span></span><span style=display:flex><span>  title = <span style=color:#a5d6ff>&#34;Your title&#34;</span>
</span></span><span style=display:flex><span>  theme = <span style=color:#a5d6ff>&#34;hugo-coder&#34;</span>
</span></span><span style=display:flex><span>  languagecode = <span style=color:#a5d6ff>&#34;en&#34;</span>
</span></span><span style=display:flex><span>  defaultcontentlanguage = <span style=color:#a5d6ff>&#34;en&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  [pagination]
</span></span><span style=display:flex><span>  pagerSize = <span style=color:#a5d6ff>20</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>#[services]</span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>#[services.disqus]</span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>#shortname = &#34;yourdiscussshortname&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  [markup.highlight]
</span></span><span style=display:flex><span>  style = <span style=color:#a5d6ff>&#34;github-dark&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  [params]
</span></span><span style=display:flex><span>  author = <span style=color:#a5d6ff>&#34;Changme&#34;</span>
</span></span><span style=display:flex><span>  info = <span style=color:#a5d6ff>&#34;Changeyourinfo&#34;</span>
</span></span><span style=display:flex><span>  description = <span style=color:#a5d6ff>&#34;Your description&#34;</span>
</span></span><span style=display:flex><span>  keywords = <span style=color:#a5d6ff>&#34;blog,developer,personal&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>#avatarurl = &#34;images/avatar.jpg&#34;  # Requires image under static/images/</span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>#gravatar = &#34;john.doe@example.com&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  faviconSVG = <span style=color:#a5d6ff>&#34;/img/favicon.svg&#34;</span>
</span></span><span style=display:flex><span>  favicon_32 = <span style=color:#a5d6ff>&#34;/img/favicon-32x32.png&#34;</span>
</span></span><span style=display:flex><span>  favicon_16 = <span style=color:#a5d6ff>&#34;/img/favicon-16x16.png&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  since = <span style=color:#a5d6ff>2025</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  enableTwemoji = <span style=color:#79c0ff>true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  colorScheme = <span style=color:#a5d6ff>&#34;auto&#34;</span>
</span></span><span style=display:flex><span>  hidecolorschemetoggle = <span style=color:#79c0ff>false</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic># customCSS = [&#34;css/custom.css&#34;]</span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic># customSCSS = [&#34;scss/custom.scss&#34;]</span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic># customJS = [&#34;js/custom.js&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  [taxonomies]
</span></span><span style=display:flex><span>  category = <span style=color:#a5d6ff>&#34;categories&#34;</span>
</span></span><span style=display:flex><span>  series = <span style=color:#a5d6ff>&#34;series&#34;</span>
</span></span><span style=display:flex><span>  tag = <span style=color:#a5d6ff>&#34;tags&#34;</span>
</span></span><span style=display:flex><span>  author = <span style=color:#a5d6ff>&#34;authors&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic># Social links</span>
</span></span><span style=display:flex><span>  [[params.social]]
</span></span><span style=display:flex><span>  name = <span style=color:#a5d6ff>&#34;Github&#34;</span>
</span></span><span style=display:flex><span>  icon = <span style=color:#a5d6ff>&#34;fa-brands fa-github fa-2x&#34;</span>
</span></span><span style=display:flex><span>  weight = <span style=color:#a5d6ff>1</span>
</span></span><span style=display:flex><span>  url = <span style=color:#a5d6ff>&#34;https://github.com/johndoe/&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>#[[params.social]]</span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>#name = &#34;Gitlab&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>#icon = &#34;fa-brands fa-gitlab fa-2x&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>#weight = 2</span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>#url = &#34;https://gitlab.com/johndoe/&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>#[[params.social]]</span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>#name = &#34;Twitter&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>#icon = &#34;fa-brands fa-x-twitter fa-2x&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>#weight = 3</span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>#url = &#34;https://twitter.com/johndoe/&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic># Menu links</span>
</span></span><span style=display:flex><span>  [[menu.main]]
</span></span><span style=display:flex><span>  name = <span style=color:#a5d6ff>&#34;Blog&#34;</span>
</span></span><span style=display:flex><span>  weight = <span style=color:#a5d6ff>1</span>
</span></span><span style=display:flex><span>  url  = <span style=color:#a5d6ff>&#34;posts/&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>#[[menu.main]]</span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>#name = &#34;About&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>#weight = 2</span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>#url = &#34;about/&#34;</span>
</span></span></code></pre></div></li><li><p>Add a blog-post: <code>hugo new posts/my-first-post.md</code>. This creates a file <code>content/posts/my-first-post.md</code> that has some metadata on your blogpost and looks like:</p><pre tabindex=0><code>+++ 
draft = true
date = 2025-08-01T15:45:47+02:00
title = &#34;&#34;
description = &#34;&#34;
slug = &#34;&#34;
authors = []
tags = []
categories = []
externalLink = &#34;&#34;
series = []
+++
</code></pre><ul><li>Most of these fields are self-explanatory. As long as draft is <code>true</code> the page won&rsquo;t be rendered in your public site. After you change it to <code>false</code> it will be rendered. Under the final plus-signs you can put your content in markdown (e.g. <code># Hello world</code>)</li></ul></li><li><p>Test your content. Hugo can serve the site locally for testing. Just run within the site directory a server command:</p><ul><li>Serve all pages including drafts: <code>hugo server --buildDrafts</code></li><li>Serve as how it will be after publishing: <code>hugo server</code></li></ul></li><li><p>Create a commit with site content <code>git add --all && git commit -m "blog start version"</code></p></li></ul><h2 id=6-add-a-github-workflow-to-your-private-repostiory>6: Add a Github workflow to your private repostiory
<a class=heading-link href=#6-add-a-github-workflow-to-your-private-repostiory><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>A Github worklfow is something that performs actions whenever you interact with your Git repository. We will now add a configuration that will publish the latest version of your site whenever you push to git. These worklflows are expected to be located at <code>.github/workflows</code> and should be provided as <a href=https://en.wikipedia.org/wiki/YAML class=external-link target=_blank rel=noopener>YAML</a> files.</p><p>In <a href=https://en.wikipedia.org/wiki/YAML class=external-link target=_blank rel=noopener>YAML</a> files you can put single-line comments by using a hash-pound <code>#</code>. So all lines with a hash-pound can be omitted but they are here as a courtesy to the reader to help understand what is going on.</p><p>We use <code>.github/workflows/hugo.yaml</code> with contents:</p><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#8b949e;font-style:italic># A name that will be used in the Github Actions view of your repository</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681></span><span style=color:#7ee787>name</span>:<span style=color:#6e7681> </span><span style=color:#a5d6ff>Release website</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681></span><span style=color:#8b949e;font-style:italic># Specify when this worklfow should be triggered</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681></span><span style=color:#7ee787>on</span>:<span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>  </span><span style=color:#8b949e;font-style:italic># We want to trigger on all changes to the main branch</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>  </span><span style=color:#7ee787>push</span>:<span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>    </span><span style=color:#7ee787>branches</span>:<span style=color:#6e7681> </span>[<span style=color:#6e7681> </span><span style=color:#a5d6ff>main ]</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>  </span><span style=color:#8b949e;font-style:italic># We also want to trigger if in Github actions view we manually click run workflow</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>  </span><span style=color:#7ee787>workflow_dispatch</span>:<span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681></span><span style=color:#8b949e;font-style:italic># Specify what to do when triggered</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681></span><span style=color:#7ee787>jobs</span>:<span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>  </span><span style=color:#8b949e;font-style:italic># The name of the job, complex flows can hae multiple</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>  </span><span style=color:#7ee787>build-website</span>:<span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>    </span><span style=color:#8b949e;font-style:italic># This job definition will run on an Ubuntu machine with a recent version</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>    </span><span style=color:#7ee787>runs-on</span>:<span style=color:#6e7681> </span><span style=color:#a5d6ff>ubuntu-latest</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>    </span><span style=color:#7ee787>steps</span>:<span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>      </span><span style=color:#8b949e;font-style:italic># First we get the code of our repository itself so this is the local repository (private repository)</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>      </span><span style=color:#8b949e;font-style:italic># Because it is local authn and authz are taken care of automagically.</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>      </span>- <span style=color:#7ee787>name</span>:<span style=color:#6e7681> </span><span style=color:#a5d6ff>Check out repo</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>        </span><span style=color:#7ee787>uses</span>:<span style=color:#6e7681> </span><span style=color:#a5d6ff>actions/checkout@v4</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>        </span><span style=color:#7ee787>with</span>:<span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>          </span><span style=color:#7ee787>lfs</span>:<span style=color:#6e7681> </span><span style=color:#79c0ff>true</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>          </span><span style=color:#7ee787>submodules</span>:<span style=color:#6e7681> </span><span style=color:#79c0ff>true</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>    
</span></span></span><span style=display:flex><span><span style=color:#6e7681>      </span><span style=color:#8b949e;font-style:italic># Next we check out our public repository since we want to push changes to it. Here we will use the PAT we created</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>      </span>- <span style=color:#7ee787>name</span>:<span style=color:#6e7681> </span><span style=color:#a5d6ff>Check out target</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>        </span><span style=color:#7ee787>uses</span>:<span style=color:#6e7681> </span><span style=color:#a5d6ff>actions/checkout@v4</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>        </span><span style=color:#7ee787>with</span>:<span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>          </span><span style=color:#7ee787>repository</span>:<span style=color:#6e7681> </span><span style=color:#a5d6ff>${{ secrets.WEBSITE_REPOSITORY }}</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>          </span><span style=color:#7ee787>ref</span>:<span style=color:#6e7681> </span><span style=color:#a5d6ff>${{ secrets.WEBSITE_RELEASE_BRANCH }}</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>          </span><span style=color:#7ee787>token</span>:<span style=color:#6e7681> </span><span style=color:#a5d6ff>${{ secrets.WEBSITE_TOKEN }}          </span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>          </span><span style=color:#7ee787>path</span>:<span style=color:#6e7681> </span><span style=color:#a5d6ff>${{ secrets.WEBSITE_DIR }}</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>          </span><span style=color:#7ee787>lfs</span>:<span style=color:#6e7681> </span><span style=color:#79c0ff>false</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>    
</span></span></span><span style=display:flex><span><span style=color:#6e7681>      </span><span style=color:#8b949e;font-style:italic># We use go to make sure we have the right Hugo version this action will install a recent version of Golang</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>      </span>- <span style=color:#7ee787>name</span>:<span style=color:#6e7681> </span><span style=color:#a5d6ff>Setup Go environment</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>        </span><span style=color:#7ee787>uses</span>:<span style=color:#6e7681> </span><span style=color:#a5d6ff>actions/setup-go@v5</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>      </span><span style=color:#8b949e;font-style:italic># Inspired by silverwind&#39;s comment on https://github.com/actions/setup-go/issues/483#issuecomment-2180656736</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>      </span><span style=color:#8b949e;font-style:italic># It caches the go modules and binaries and we use a specific Hugo version to allow easier reproducability and management</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>      </span><span style=color:#8b949e;font-style:italic># This will greatly speed up the workflow as installing hugo would take some minutes</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>      </span><span style=color:#8b949e;font-style:italic># First we get some variables that we need for the caching</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>      </span>- <span style=color:#7ee787>id</span>:<span style=color:#6e7681> </span><span style=color:#a5d6ff>vars</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>        </span><span style=color:#7ee787>run</span>:<span style=color:#6e7681> </span>|<span style=color:#a5d6ff>
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>          echo &#34;GOPATH=$(go env GOPATH)&#34; &gt;&gt; &#34;$GITHUB_OUTPUT&#34;
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>          echo &#34;GOVERSION=$(go env GOVERSION)&#34; &gt;&gt; &#34;$GITHUB_OUTPUT&#34;
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>          echo &#34;HUGO_PIN=$(cat hugo_version_pin.txt)&#34; &gt;&gt; &#34;$GITHUB_OUTPUT&#34;</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>      </span><span style=color:#8b949e;font-style:italic># Then we use an action to restore the cache. If this is the first run or if a new hugo/golang version is used then the key won&#39;t exist and nothing is restored and thus no changes are done. If this config has run already then the contents of GOPATH will be loaded from cache which would greatly speed up a hugo setup setp</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>      </span>- <span style=color:#7ee787>uses</span>:<span style=color:#6e7681> </span><span style=color:#a5d6ff>actions/cache/restore@v4</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>        </span><span style=color:#7ee787>with</span>:<span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>          </span><span style=color:#7ee787>path</span>:<span style=color:#6e7681> </span>|<span style=color:#a5d6ff>
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>            ${{ steps.vars.outputs.GOPATH }}</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>          </span><span style=color:#7ee787>key</span>:<span style=color:#6e7681> </span><span style=color:#a5d6ff>hugo-${{ github.job }}-${{ runner.os }}-${{ runner.arch }}-${{ steps.vars.outputs.GOVERSION }}-${{ steps.vars.outputs.HUGO_PIN }}</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>      </span><span style=color:#8b949e;font-style:italic># Setup Hugo in extended mode if we cannot find the version specified in our repository</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>      </span>- <span style=color:#7ee787>name</span>:<span style=color:#6e7681> </span><span style=color:#a5d6ff>Setup Hugo</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>        </span><span style=color:#7ee787>run</span>:<span style=color:#6e7681> </span>|<span style=color:#a5d6ff>
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>          hugo version | grep &#34;$(cat hugo_version_pin.txt)&#34; || CGO_ENABLED=1 go install -tags extended github.com/gohugoio/hugo@${{ steps.vars.outputs.HUGO_PIN }}</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>      </span><span style=color:#8b949e;font-style:italic># Now safe the GOPATH contents to cache with the key that we would used in subsequent runs</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>      </span>- <span style=color:#7ee787>uses</span>:<span style=color:#6e7681> </span><span style=color:#a5d6ff>actions/cache/save@v4</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>        </span><span style=color:#7ee787>with</span>:<span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>          </span><span style=color:#7ee787>path</span>:<span style=color:#6e7681> </span>|<span style=color:#a5d6ff>
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>            ${{ steps.vars.outputs.GOPATH }}</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>          </span><span style=color:#7ee787>key</span>:<span style=color:#6e7681> </span><span style=color:#a5d6ff>hugo-${{ github.job }}-${{ runner.os }}-${{ runner.arch }}-${{ steps.vars.outputs.GOVERSION }}-${{ steps.vars.outputs.HUGO_PIN }}</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>      </span><span style=color:#8b949e;font-style:italic># Build the hugo website</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>      </span>- <span style=color:#7ee787>name</span>:<span style=color:#6e7681> </span><span style=color:#a5d6ff>Build website</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>        </span><span style=color:#7ee787>run</span>:<span style=color:#6e7681> </span><span style=color:#a5d6ff>make website WEBSITE_DIR=${{ secrets.WEBSITE_DIR }}</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>      
</span></span></span><span style=display:flex><span><span style=color:#6e7681>      </span><span style=color:#8b949e;font-style:italic># Finally now that we have our static websit in WEBSITE_DIR create a new commit with all the changes and push it if there are changes</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>      </span><span style=color:#8b949e;font-style:italic># compared to previous version</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>      </span>- <span style=color:#7ee787>name</span>:<span style=color:#6e7681> </span><span style=color:#a5d6ff>Commit changes</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>        </span><span style=color:#7ee787>env</span>:<span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>          </span><span style=color:#7ee787>REMOTE</span>:<span style=color:#6e7681> </span><span style=color:#a5d6ff>https://${{ secrets.WEBSITE_ACTOR }}:${{ secrets.WEBSITE_TOKEN }}@github.com/${{ secrets.WEBSITE_REPOSITORY }}.git</span><span style=color:#6e7681>
</span></span></span><span style=display:flex><span><span style=color:#6e7681>        </span><span style=color:#7ee787>run</span>:<span style=color:#6e7681> </span>|<span style=color:#a5d6ff>
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>          cd ${{ secrets.WEBSITE_DIR }}
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>          git config user.name ${{ secrets.WEBSITE_GIT_USER_NAME }}
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>          git config user.email ${{ secrets.WEBSITE_GIT_USER_EMAIL }}
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>          git add --all
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>          if git commit -m &#34;built from GitHub Action&#34;; then
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>            git remote add website &#34;${{ env.REMOTE }}&#34;
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>            git push website ${{ secrets.WEBSITE_RELEASE_BRANCH }}
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>          else
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>            echo &#34;Nothing has changed -- not releasing&#34;
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>          fi</span><span style=color:#6e7681>
</span></span></span></code></pre></div><p>The careful reader saw that this workflow references 2 local files:</p><ul><li><code>Makefile</code> (implicit via the make command)</li><li><code>hugo_version_pin.txt</code> (explicitly put into the variable to install Hugo and to cache it)</li></ul><p>Content of <code>Makefile</code>:</p><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-make data-lang=make><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Thanks to https://gist.github.com/tastapod/c2eaf34408b6586631347f0411c84339
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#79c0ff>WEBSITE_DIR</span> <span style=color:#ff7b72;font-weight:700>?=</span> public
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#d2a8ff;font-weight:700>website</span><span style=color:#ff7b72;font-weight:700>:</span>
</span></span><span style=display:flex><span>	hugo --destination <span style=color:#ff7b72>$(</span>WEBSITE_DIR<span style=color:#ff7b72>)</span> --minify --cleanDestinationDir <span style=color:#ff7b72;font-weight:700>&amp;&amp;</span> cp -Rv static <span style=color:#ff7b72>$(</span>WEBSITE_DIR<span style=color:#ff7b72>)</span>/
</span></span></code></pre></div><p>Content of <code>hugo_version_pin.txt</code> can be any valid Hugo version number without newline so at time of writing the content was <code>v0.148.2</code></p><p>NOTE: Since hugo installation is the slowest part a cold run can easily take 4-5 minutes for the action to complete. Subsequent runs will likely take less than half a minute.</p><h2 id=7-push-your-commits>7: Push your commits
<a class=heading-link href=#7-push-your-commits><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>If you don&rsquo;t know how to push the empty repository you created <code>https://github.com/&lt;your_github_account>/my-blog-source</code> has detailed instructions.
Upon push it should start an action shortly (normally within seconds) and you can see them under <code>https://github.com/&lt;your_github_account>/my-blog-source/actions</code>.</p><h1 id=the-old-blog>The old blog
<a class=heading-link href=#the-old-blog><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h1><p>If you liked the articles on the old blog then you can still find them on the old location. You can find <em>pointers</em> on <a href=http://pvbouwel.github.io/posts/2009-2016-posts/>Old blog (2009-2016)</a></p></div><footer></footer></article></section></div><footer class=footer><section class=container>©
2009 -
2025
pvbouwel
·
Powered by <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/ target=_blank rel=noopener>Coder</a>.</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script></body></html>